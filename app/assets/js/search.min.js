var LolitaFramework;!function(a){var b=function(){function a(){var a=this;this.ajax=null,this.handler=null,this.tmpl=null,this.ajax=window.wp.ajax,this.tmpl=window.wp.template("search-item"),jQuery(document).on("keyup",".b-search-form__input",function(b){return a.searchInputKeyup(b)})}return a.prototype.searchInputKeyup=function(a){var c,b=this;38!=a.which&&40!=a.which&&(c=jQuery(a.currentTarget).val(),this.handler&&clearTimeout(this.handler),this.handler=setTimeout(function(){return b.search(c)},200))},a.prototype.search=function(a){var c,b=this;c=this.ajax.post({action:"search",nonce:window.lolita_framework.LF_NONCE,s:a}),c.done(function(c){return b.searchDone(c,a)})},a.prototype.searchDone=function(a,b){var c,d;if(jQuery(".w-search-block__results").empty(),a.items.length)for(c=0;c<a.items.length;c++)d=a.items[c],d.title=d.title.replace(new RegExp(b,"gi"),"<b>"+b+"</b>"),d.content=d.content.replace(new RegExp(b,"gi"),"<b>"+b+"</b>"),jQuery(".w-search-block__results").append(this.tmpl(d))},a}();a.HomeSearch=b,window.LolitaFramework.home_search=new b}(LolitaFramework||(LolitaFramework={}));